From 2ccc41f883844c1fc0374da541eef853042659ff Mon Sep 17 00:00:00 2001
From: Wolf Lin <Wolf_Lin@pegatroncorp.com>
Date: Thu, 3 Sep 2020 09:38:00 +0800
Subject: [PATCH] Add 'fm_6609_bn_ff' platform support.

---
 include/mb_detect.h        | 1 +
 miscutils/mb_detect.c      | 3 ++-
 miscutils/sys_eeprom_i2c.c | 8 ++++++++
 3 files changed, 11 insertions(+), 1 deletion(-)

diff --git a/include/mb_detect.h b/include/mb_detect.h
index b10cb88..d74a951 100644
--- a/include/mb_detect.h
+++ b/include/mb_detect.h
@@ -31,6 +31,7 @@ enum {
 	ASTONMARTINWITHBMC,
 	GEMINI,
 	GEMINIWITHBMC,
+	FHGW,
 	MB_LAST
 };
 
diff --git a/miscutils/mb_detect.c b/miscutils/mb_detect.c
index 16835e7..62b39da 100644
--- a/miscutils/mb_detect.c
+++ b/miscutils/mb_detect.c
@@ -13,7 +13,8 @@ SysBoardInfo sysBoardInfo[] = {
 	{ 0x08, "astonMartin",		"FN_8032_BN_F\0", "fn_8032_bn_f\0", 0, 0 },
 	{ 0x08, "astonMartin(BMC)",	"FN_8032_BA_F\0", "fn_8032_ba_f\0", 0, 1 },
 	{ 0x09, "gemini",		"FM_6256_BN_F\0", "fm_6256_bn_f\0", 0, 0 },
-	{ 0x09, "gemini(BMC)",		"FM_6256_BA_F\0", "fm_6256_ba_f\0", 0, 1 }
+	{ 0x09, "gemini(BMC)",		"FM_6256_BA_F\0", "fm_6256_ba_f\0", 0, 1 },
+	{ 0x0A, "fhgw",			"FM_6609_BN_FF\0", "fm_6609_bn_ff\0", 0, 0 }
 };
 
 static u32 mb_id_get_from_cpld(void)
diff --git a/miscutils/sys_eeprom_i2c.c b/miscutils/sys_eeprom_i2c.c
index bc451da..b24e1df 100644
--- a/miscutils/sys_eeprom_i2c.c
+++ b/miscutils/sys_eeprom_i2c.c
@@ -71,6 +71,14 @@ struct mb_info mb_i2c_info[] = {
 		.wp_disable = 0x00,
 		.wp_enable = 0x04
 	},
+	{
+		.motherboard_id = 0xA, /* FHGW */
+		.mux = {.addr = 0x73, .channel = 1},
+		.eeprom_addr = 0x75,
+		.eeprom_offset = 0x14,
+		.wp_disable = 0x01,
+		.wp_enable = 0x03
+	},
 	{
 		.motherboard_id = 0xff,
 		.mux = {.addr = 0xff, .channel = 0xff},
-- 
2.17.1

